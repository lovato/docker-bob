sudo: required
language: generic
services:
- docker
branches:
  except:
  - master
before_install:
- sudo apt-get update -qq
install:
- npm install -g npm
- npm install -g dockerfile_lint
- npm install -g markdownlint-cli
- npm install -g travis-lint
before_script:
- travis-lint .travis.yml
- dockerfile_lint Dockerfile
- markdownlint README.md
script:
- ./build.sh
- ./cpp/build.sh
- ./python/build.sh
- ./nodejs/build.sh
- ./java/build.sh
- ./android/build.sh
- ./android/ndk/build.sh
after_script:
- set -e && ./test-all.sh $(pwd)
notifications:
  email: true